;/*FB_PKG_DELIM*/

__d("useBaseTokenizerSubscriptionDataSourceFetchResolverNetwork",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.useEffect,j=b.useRef,k=b.useState,l=b.c;function a(a){var b=l(9),c=a.dataSource;a=k(!1);var d=a[0],e=a[1],f=j(null);b[0]!==c?(a=function(a){var b,d=a.onResolvePayload;a=a.requestParams;(b=f.current)==null?void 0:b.unsubscribe();f.current=c.fetchNetwork(a).subscribe({complete:function(){e(!1)},error:function(a){e(!1)},next:function(a){return d(a)},start:function(a){e(!0)},unsubscribe:function(){e(!1)}})},b[0]=c,b[1]=a):a=b[1];a=a;var g,h;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(g=function(){return function(){var a;(a=f.current)==null?void 0:a.unsubscribe()}},h=[],b[2]=g,b[3]=h):(g=b[2],h=b[3]);i(g,h);b[4]!==d?(g={isLoading:d},b[4]=d,b[5]=g):g=b[5];b[6]!==g||b[7]!==a?(h=[g,a],b[6]=g,b[7]=a,b[8]=h):h=b[8];return h}g["default"]=a}),98);
__d("useBaseTokenizerSubscriptionDataSourceFetchResolver",["cometTypeaheadODSLogFetchNetworkEvent","cr:2557","react","recoverableViolation","useBaseTokenizerSubscriptionDataSourceFetchResolverNetwork","useDebouncedComet"],(function(a,b,c,d,e,f,g){"use strict";var h;e=h||d("react");e.useCallback;var i=e.useEffect,j=e.useRef,k=e.c;function a(a,d){var e=k(17),f=a.dataSource,g=a.dataSourceFetchConfigParams,h=a.onResolvePayload;e[0]!==g?(a=g===void 0?{}:g,e[0]=g,e[1]=a):a=e[1];g=a;a=g.requestFlow;g=g.shouldDebounceNetwork;a=a===void 0?void 0:a;var l=g===void 0?!0:g;e[2]!==f?(g={dataSource:f},e[2]=f,e[3]=g):g=e[3];f=c("useBaseTokenizerSubscriptionDataSourceFetchResolverNetwork")(g);g=f[0];var m=f[1];f=g.isLoading;var n=c("useDebouncedComet")(m);e[4]!==h?(g=function(a,b){var d=b.isTraceComplete;b=b.source;try{h(a,{isTraceComplete:d,source:b})}catch(a){c("recoverableViolation")("Failed to resolve fetched payload","search")}return b},e[4]=h,e[5]=g):g=e[5];var o=g,p=j(a);e[6]!==o?(g=function(a){o(a,{isTraceComplete:!0,source:a.entries.length>0?"network":"network-no-results"}),c("cometTypeaheadODSLogFetchNetworkEvent")&&c("cometTypeaheadODSLogFetchNetworkEvent")("comet.ta.fetch",!0,1),b("cr:2557")&&b("cr:2557")(["all"],a)},e[6]=o,e[7]=g):g=e[7];var q=g;e[8]!==q||e[9]!==l||e[10]!==n||e[11]!==m||e[12]!==d?(a=function(){var a=function(a){a=a.requestParams;var b=a.requestFlow;b!=null&&(p.current=b);b={onResolvePayload:q,requestParams:babelHelpers["extends"]({},a,{requestFlow:p.current})};Boolean(l)?n(b):m(b)};d!=null&&a(d)},g=[m,n,d,q,l],e[8]=q,e[9]=l,e[10]=n,e[11]=m,e[12]=d,e[13]=a,e[14]=g):(a=e[13],g=e[14]);i(a,g);e[15]!==f?(a=[{isLoading:f}],e[15]=f,e[16]=a):a=e[16];return a}g["default"]=a}),98);
__d("useBaseTokenizerSubscriptionDataSourceFetch",["react","recoverableViolation","useBaseTokenizerSubscriptionDataSourceFetchResolver"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.useState,j=b.c;function a(a){var b,d=j(9),e=i(null),f=e[0],g=e[1];e=c("useBaseTokenizerSubscriptionDataSourceFetchResolver")(a,f);a=e[0];e=a.isLoading;d[0]===Symbol["for"]("react.memo_cache_sentinel")?(a=function(a,b){b=b===void 0?"all":b;g({requestParams:a,source:b})},d[0]=a):a=d[0];var h=a;d[1]!==f?(a=function(a){a=a||{};var b=a.requestFlow;a=a.source;if(f==null){c("recoverableViolation")("Refetch cannot be called with undefined `fetchParams`","search");return}var d=f.requestParams,e=d.loggingEventTrace;d=babelHelpers.objectWithoutPropertiesLoose(d,["loggingEventTrace"]);e=babelHelpers["extends"]({loggingEventTrace:babelHelpers["extends"]({},e,{sequenceID:String(Date.now())}),requestFlow:b},d);h(e,a)},d[1]=f,d[2]=a):a=d[2];a=a;b=(b=f==null?void 0:f.source)!=null?b:"all";var k;d[3]!==e||d[4]!==b?(k={isLoading:e,source:b},d[3]=e,d[4]=b,d[5]=k):k=d[5];d[6]!==k||d[7]!==a?(e=[k,h,a],d[6]=k,d[7]=a,d[8]=e):e=d[8];return e}g["default"]=a}),98);
__d("CometInternalTokenizerSubscriptionProvider",["CometInternalTokenizerFetchContext","CometInternalTypeaheadEmptyFetchProvider","react","useBaseTokenizerSubscriptionDataSourceFetch","useCometInternalTypeaheadStateDispatcher"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useCallback;b.useMemo;var j=b.c;function a(a){var b=j(20),d=a.children,e=a.dataSource,f=a.dataSourceFetchConfigParams,g=a.onFetchEntries_DO_NOT_USE,h=a.traceProvider;a=c("useCometInternalTypeaheadStateDispatcher")();var k=a.dispatchActiveEntries;b[0]!==k||b[1]!==g||b[2]!==h?(a=function(b,a){var c;b=b.entries;var d=a.isTraceComplete;a=a.source;k((c=b)!=null?c:[]);g&&g(b);h&&!h.isResolved()&&(d&&(a==="cache"&&b.length>=h.getEntriesCountForVisualComplete()?h.setEndReason("max_suggestions_reached"):a==="network"?h.setEndReason("all_queries_completed"):a==="network-no-results"&&h.setEndReason("all_queries_completed_no_network_results"),h.resolve()))},b[0]=k,b[1]=g,b[2]=h,b[3]=a):a=b[3];a=a;var l;b[4]!==e||b[5]!==f||b[6]!==a?(l={dataSource:e,dataSourceFetchConfigParams:f,onResolvePayload:a},b[4]=e,b[5]=f,b[6]=a,b[7]=l):l=b[7];e=c("useBaseTokenizerSubscriptionDataSourceFetch")(l);f=e[0];a=e[1];l=e[2];e=f.isLoading;f=f.source;var m;b[8]!==a||b[9]!==e||b[10]!==l||b[11]!==f?(m={fetch:a,isLoading:e,refetch:l,source:f},b[8]=a,b[9]=e,b[10]=l,b[11]=f,b[12]=m):m=b[12];a=m;l=a;b[13]!==e||b[14]!==f||b[15]!==d?(m=i.jsx(c("CometInternalTypeaheadEmptyFetchProvider"),{isLoading:e,source:f,children:d}),b[13]=e,b[14]=f,b[15]=d,b[16]=m):m=b[16];b[17]!==l||b[18]!==m?(a=i.jsx(c("CometInternalTokenizerFetchContext").Provider,{value:l,children:m}),b[17]=l,b[18]=m,b[19]=a):a=b[19];return a}g["default"]=a}),98);
__d("BaseSubscriptionTokenizer.react",["CometInternalTokenizerSubscriptionProvider","CometInternalTypeaheadStateProvider","CometTokenizerInternal.react","emptyFunction","react","useStable"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useId,k=b.c,l=[];function a(a){var b=k(62),d,e,f,g,h,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G;b[0]!==a?(d=a.autoOpen,e=a.autoFocus,D=a.dataSource,E=a.dataSourceFetchConfigParams,f=a.decorators,z=a.inputRef,G=a.emptyEntries_DO_NOT_USE,x=a.id,g=a.isDisabled,h=a.label,F=a.loggingContext,m=a.onAddToken,n=a.onBlur,A=a.onChangeTokens,o=a.onClose,p=a.onEscape,q=a.onFocus,r=a.onOpen,s=a.onRemoveToken,t=a.onSearchCompletion,u=a.placeholder,v=a.testid,C=a.tokensStrategyRenderer,B=a.tokens,w=a.viewRole,y=babelHelpers.objectWithoutPropertiesLoose(a,["autoOpen","autoFocus","dataSource","dataSourceFetchConfigParams","decorators","inputRef","emptyEntries_DO_NOT_USE","id","isDisabled","label","loggingContext","onAddToken","onBlur","onChangeTokens","onClose","onEscape","onFocus","onOpen","onRemoveToken","onSearchCompletion","placeholder","testid","tokensStrategyRenderer","tokens","viewRole"]),b[0]=a,b[1]=d,b[2]=e,b[3]=f,b[4]=g,b[5]=h,b[6]=m,b[7]=n,b[8]=o,b[9]=p,b[10]=q,b[11]=r,b[12]=s,b[13]=t,b[14]=u,b[15]=v,b[16]=w,b[17]=x,b[18]=y,b[19]=z,b[20]=A,b[21]=B,b[22]=C,b[23]=D,b[24]=E,b[25]=F,b[26]=G):(d=b[1],e=b[2],f=b[3],g=b[4],h=b[5],m=b[6],n=b[7],o=b[8],p=b[9],q=b[10],r=b[11],s=b[12],t=b[13],u=b[14],v=b[15],w=b[16],x=b[17],y=b[18],z=b[19],A=b[20],B=b[21],C=b[22],D=b[23],E=b[24],F=b[25],G=b[26]);a=d===void 0?!1:d;d=e===void 0?!1:e;b[27]!==f?(e=f===void 0?[]:f,b[27]=f,b[28]=e):e=b[28];var H=e;f=g===void 0?!1:g;e=h===void 0?"":h;g=m===void 0?c("emptyFunction"):m;h=n===void 0?c("emptyFunction"):n;m=o===void 0?c("emptyFunction"):o;n=p===void 0?c("emptyFunction"):p;o=q===void 0?c("emptyFunction"):q;p=r===void 0?c("emptyFunction"):r;q=s===void 0?c("emptyFunction"):s;r=t===void 0?c("emptyFunction"):t;s=u===void 0?"":u;t=v===void 0?"":v;u=w===void 0?"listbox":w;v=j();b[29]!==H?(w=function(){var a;a=c("CometTokenizerInternal.react");H.forEach(function(b){var c=b.decorate;b=b.params;a=c(a,b)});return a},b[29]=H,b[30]=w):w=b[30];w=c("useStable")(w);e=e||s;x=(x=x)!=null?x:v;if(b[31]!==w||b[32]!==y||b[33]!==d||b[34]!==x||b[35]!==z||b[36]!==f||b[37]!==e||b[38]!==h||b[39]!==A||b[40]!==n||b[41]!==o||b[42]!==g||b[43]!==q||b[44]!==r||b[45]!==s||b[46]!==B||b[47]!==t||b[48]!==C||b[49]!==u){v=i.jsx(w,babelHelpers["extends"]({},y,{autoFocus:d,commandConfigs:l,id:x,inputRef:z,isDisabled:f,label:e,onBackspace:v=c("emptyFunction"),onBlur:h,onChangeEntries:A,onDownArrow:v,onEnter:v,onEscape:n,onFocus:o,onHighlightEntry:v,onPressEntry:g,onRemoveEntry:q,onSearchCompletion:r,onShiftTab:v,onTab:v,onUpArrow:v,placeholder:s,selectedEntries:B,testid:void 0,tokensStrategyRenderer:C,viewRole:u}));b[31]=w;b[32]=y;b[33]=d;b[34]=x;b[35]=z;b[36]=f;b[37]=e;b[38]=h;b[39]=A;b[40]=n;b[41]=o;b[42]=g;b[43]=q;b[44]=r;b[45]=s;b[46]=B;b[47]=t;b[48]=C;b[49]=u;b[50]=v}else v=b[50];b[51]!==D||b[52]!==E||b[53]!==F||b[54]!==v?(w=i.jsx(c("CometInternalTokenizerSubscriptionProvider"),{dataSource:D,dataSourceFetchConfigParams:E,loggingContext:F,children:v}),b[51]=D,b[52]=E,b[53]=F,b[54]=v,b[55]=w):w=b[55];b[56]!==a||b[57]!==G||b[58]!==m||b[59]!==p||b[60]!==w?(y=i.jsx(c("CometInternalTypeaheadStateProvider"),{autoOpen:a,emptyEntries_DO_NOT_USE:G,onClose:m,onOpen:p,children:w}),b[56]=a,b[57]=G,b[58]=m,b[59]=p,b[60]=w,b[61]=y):y=b[61];return y}g["default"]=a}),98);
__d("LsOmnipickerDataSource",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({LOCAL:0,SERVER:1,SERVER_DSQ1:2,SERVER_DSQ2:3});c=a;f["default"]=c}),66);
__d("MWChatSearchInputStrategy.react",["fbt","CometScreenReaderText.react","CometTokenizerInputStrategy.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useId,l=b.useMemo,m={inputXStyle:{paddingBottom:"x1a8lsjc",$$css:!0}};e=j.forwardRef(a);function a(a,b){a=babelHelpers["extends"]({},a);var d=l(function(){return{xstyle:m.inputXStyle}},[]),e=k();return j.jsxs(j.Fragment,{children:[j.jsx(c("CometTokenizerInputStrategy.react"),babelHelpers["extends"]({},a,{ariaProps:babelHelpers["extends"]({},a.ariaProps,{"aria-describedby":e}),inputExtraProps:d,ref:b})),j.jsx(c("CometScreenReaderText.react"),{"aria-hidden":!0,id:e,text:h._("__JHASH__NSDogHXzKMm__JHASH__")})]})}a.displayName=a.name+" [from "+f.id+"]";d=e;g["default"]=d}),226);
__d("MWChatSearchTokenizerLightspeedSubscriptionDataSource",["LSIntEnum","MNetRankType","MWChatSearchSurfaces","MWChatSearchTypeaheadLightspeedSubscriptionDataSource","MWLSSearchIssueSearchQuerySupportedTypes","mwChatSearchPayloadDecoratorRemoveDuplicates","mwChatSearchPayloadEnumerate","relay-runtime/network/RelayObservable"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){function a(a){var b=a.database,e=a.excludedIDs;e=e===void 0?[]:e;var f=a.lightspeedSupportedTypes;f=f===void 0?d("MWLSSearchIssueSearchQuerySupportedTypes").allSupportedTypes:f;var g=a.source;g=g===void 0?c("MWChatSearchSurfaces").universal:g;var i=a.includeRecommendations;i=i===void 0?!0:i;var j=a.dedupeWithOtherUserId;j=j===void 0?!1:j;var k=a.includeGroupSearch;k=k===void 0?!0:k;a=a.nullstateRankType;a=a===void 0?(h||(h=d("LSIntEnum"))).ofNumber(c("MNetRankType").MESSENGER_USER_SEARCH_NULLSTATE):a;this.$2=[];this.$3=!1;this.$1=new(c("MWChatSearchTypeaheadLightspeedSubscriptionDataSource"))({database:b,excludedIDs:e,includeGroupSearch:k,includeMessageSearchEntry:!1,includeRecommendations:i,lightspeedSupportedTypes:f,nullstateRankType:a,source:g});this.$2=e;this.$3=j}var b=a.prototype;b.fetchNetwork=function(a){var b=this,d=a.selectedTokens;a=babelHelpers.objectWithoutPropertiesLoose(a,["selectedTokens"]);var e=this.$1.fetchNetwork(a);return c("relay-runtime/network/RelayObservable").create(function(a){e.subscribe({complete:a.complete,error:a.error,next:function(e){var f=c("mwChatSearchPayloadDecoratorRemoveDuplicates")(d,b.$3);f=c("mwChatSearchPayloadEnumerate")(f(e));return a.next(babelHelpers["extends"]({},f,{selectedTokens:d}))}})})};b.setExcludedIds=function(a){this.$1.setExcludedIds(a)};return a}();g["default"]=a}),98);
__d("MWChatSearchTypeaheadViewStrategy.react",["CometTypeaheadProgressGlimmer.react","MWChatSearchLightspeedTypeaheadViewList.react","MWJewelSearchTypeaheadViewItem.react","MessengerMSplitFlag","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useCallback;function a(a){var b=a.ariaProps,d=a.entries,e=a.extraViewProps,f=a.highlightedEntry,g=a.isLoading;a.onAbandonTypeahead_DO_NOT_USE;var h=a.queryString,k=babelHelpers.objectWithoutPropertiesLoose(a,["ariaProps","entries","extraViewProps","highlightedEntry","isLoading","onAbandonTypeahead_DO_NOT_USE","queryString"]),l=e==null?void 0:e.getIsViewItemDisabled,m=(a=e==null?void 0:e.hasReachedGroupLimit)!=null?a:!1,n=(a=e==null?void 0:e.hasReachedGxacGroupLimit)!=null?a:!1,o=j(function(a){return m||(l?l(a):!1)||n&&a.rawData.isInstagramAccount},[l,m,n]);a=(e=e==null?void 0:(a=e.selectedEntries)==null?void 0:a.length)!=null?e:0;return i.jsxs(i.Fragment,{children:[g&&i.jsx(c("CometTypeaheadProgressGlimmer.react"),{}),i.jsx(c("MWChatSearchLightspeedTypeaheadViewList.react"),{ariaProps:b,entries:d,highlightedEntry:f,showActionItems:!c("MessengerMSplitFlag").is_msplit_account&&h===""&&a===0,testid:void 0,children:function(a){var b=a.entry,d=a.isActive;a=a.itemRole;return i.createElement(c("MWJewelSearchTypeaheadViewItem.react"),babelHelpers["extends"]({},k,{entry:b,isActive:d,isDisabled:o(b),key:b.key,queryString:h,role:a}))}})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("OmnipickerSearchResultSelectedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("934");b=d("FalcoLoggerInternal").create("omnipicker_search_result_selected",a);e=b;g["default"]=e}),98);
__d("OmnipickerSearchUISectionType",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({NULL_STATE_SUGGESTED:1,NULL_STATE_XAC_FOLLOWING:2,QUERY_SUGGESTED:3,QUERY_NON_FOLLOWING:4,QUERY_XAC_FOLLOWING:5,QUERY_XAC_NON_FOLLOWING:6,QUERY_BUSINESSES:7,OTHER:8,GROUP_CHATS:9,NULL_STATE_SUGGESTED_DIRECT_INVITE:10,NULL_STATE_CATEGORIES_DIRECT_INVITE:11,QUERY_SUGGESTED_DIRECT_INVITE:12,COMMUNITY_CHATS:13,COMMUNITY_CHATS_SEE_MORE:14,AI:15,AI_SEE_MORE:16,AI_PICKER:17,INVITE_TO_INSTAGRAM:18,INVITE_TO_INSTAGRAM_SEE_MORE:19});c=a;f["default"]=c}),66);
__d("MWOmnipickerLoggingUtils",["I64","MWSearchLogging","OmnipickerSearchResultSelectedFalcoEvent","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){var c=b.searchSource,d=b.section;b=b.sectionAnalyticsName;return i(a,d,b,c)}function b(a,b){b=b.candidate.chatSearchTypeaheadDataEntry;if(b==null)return 8;b=b.rawData;var c=b.searchSource,d=b.section;b=b.sectionAnalyticsName;return i(a,d,b,c)}function i(a,b,c,e){if(a==="")return 1;if(e!=="server"||b==="")return 3;a=d("MWSearchLogging").SectionAnalyticsNameType.cast(c);if(a==null)return 8;switch(a){case d("MWSearchLogging").SectionAnalyticsNameType.CM_THREADS:return 13;case d("MWSearchLogging").SectionAnalyticsNameType.CONTACTS_GROUPS:return 3;case d("MWSearchLogging").SectionAnalyticsNameType.NON_CONTACTS:return 4;case d("MWSearchLogging").SectionAnalyticsNameType.PAGES:return 7;default:return 8}}var j=function(a){switch(a){case"server":return[2,3];case"offline":case"offline_nullstate":case"secure":return[0];default:return[]}},k=function(a){var b;if(a==null)return{final_score:0,raw_score:0,raw_score_index:"-1",request_id:""};var c=a.score;a=a.scoreIndex;return{final_score:(b=c)!=null?b:0,raw_score:(b=c)!=null?b:0,raw_score_index:(c=(h||(h=d("I64"))).to_string(a))!=null?c:"-1",request_id:""}};e=function(a,b,d,e,f,g,h,l,m,n,o,p){var q={query_string:a,result_fbid:e,result_index:((e=g)!=null?e:-1).toString(),result_type:(g=h)!=null?g:7};c("OmnipickerSearchResultSelectedFalcoEvent").log(function(){var e;return{data_sources:j(l),is_epd:c("gkx")("23390")||p,is_interop_thread:!1,mnet_request:k(f),recipient_ids:b,search_mode:1,search_result:q,session_id:(e=d)!=null?e:"",thread_id:null,ui_section:i(a,m,n,l),ui_section_index:((e=o)!=null?e:-1).toString()}})};g.mapSectionToOmnipickerSearchUISection=a;g.mapSectionToOmnipickerSearchUISectionForIG=b;g.getLoggingDataSources=j;g.getMnetRankInfo=k;g.logOmnipickerSearchResultSelectedHelper=e}),98);
__d("OmnipickerSearchQueryChangedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("928");b=d("FalcoLoggerInternal").create("omnipicker_search_query_changed",a);e=b;g["default"]=e}),98);
__d("OmnipickerSearchStartFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("929");b=d("FalcoLoggerInternal").create("omnipicker_search_start",a);e=b;g["default"]=e}),98);
__d("MWChatLightSpeedSearchTypeahead.react",["BaseSubscriptionTokenizer.react","MWChatSearchInputStrategy.react","MWChatSearchResultType","MWChatSearchSurfaces","MWChatSearchTokenizerLightspeedSubscriptionDataSource","MWChatSearchTypeaheadViewStrategy.react","MWLSSearchIssueSearchQuerySupportedTypes","MWOmnipickerLoggingUtils","OmnipickerSearchQueryChangedFalcoEvent","OmnipickerSearchResultSelectedFalcoEvent","OmnipickerSearchStartFalcoEvent","emptyFunction","gkx","isArmadillo","isGroupInvitesEnabled","react","useBaseTokenizerDecorators","useCometTokenizerListTokenStrategy","useReStore","uuidv4","withBaseTokenizerEscapeDecorator","withMWChatSearchTokenManagementDecorator"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));b=i;var k=b.useEffect,l=b.useMemo,m=b.useRef,n=b.useState;function a(a){var b=a.excludedIDs,e=a.extraLayoutProps,f=a.getIsViewItemDisabled,g=a.includeRecommendations,i=g===void 0?!0:g;g=a.isDisabled;var o=a.isSecure,p=a.layoutStategyRenderer,q=a.onAddToken,r=a.onChangeTokens,s=a.onSearchAbandon;s=s===void 0?c("emptyFunction"):s;var t=a.onSearchCompletion;t=t===void 0?c("emptyFunction"):t;var u=a.source,v=u===void 0?c("MWChatSearchSurfaces").universal:u;u=a.supportedSearchTypes;var w=u===void 0?d("MWLSSearchIssueSearchQuerySupportedTypes").allSupportedTypes:u;u=a.tokenItemRenderer;var x=a.tokens;a=a.xstyles;var y=n(""),z=y[0],A=y[1],B=(h||(h=c("useReStore")))(),C=c("gkx")("23390"),D=c("gkx")("24109"),E=null,F=l(function(){return new(c("MWChatSearchTokenizerLightspeedSubscriptionDataSource"))({database:B,dedupeWithOtherUserId:!0,excludedIDs:b,includeRecommendations:i,lightspeedSupportedTypes:w,source:v})},[B,b,i,w,v]);y=c("useBaseTokenizerDecorators")({escapeDecorator:{decorate:c("withBaseTokenizerEscapeDecorator"),params:{onSearchAbandon:s}},tokenManagementDecorator:{decorate:c("withMWChatSearchTokenManagementDecorator"),params:{dataSource:F}}});s=m(null);var G=s.current;k(function(){G&&G.focus()},[G,x]);k(function(){if(o){var a=x.filter(function(a){return a.rawData.resultType===c("MWChatSearchResultType").USER&&a.rawData.isViewerUnconnected===!0});x.length>1&&a.length>0&&c("isGroupInvitesEnabled")()}},[x,o]);k(function(){F.setExcludedIds(b||[])},[F,b]);u=c("useCometTokenizerListTokenStrategy")({tokenItemRenderer:u});var H=l(function(){return{getIsViewItemDisabled:f,selectedEntries:x}},[f,x]),I=function(){if(!D)return;E=c("uuidv4")();c("OmnipickerSearchStartFalcoEvent").log(function(){var a;return{entry_surface:1,is_epd:C,omnipicker_type:1,search_mode:1,session_id:(a=E)!=null?a:""}})},J=function(a){A(a);if(!D)return;E!=null&&c("OmnipickerSearchQueryChangedFalcoEvent").log(function(){var b;return{query_length:a.length.toString(),query_string:a,search_mode:1,session_id:(b=E)!=null?b:""}})},K=function(a){if(q==null)return;if(!D||E==null){q(a);return}var b=a.rawData,e=b.id,f=b.rankingScore,g=b.renderIndex,h=b.searchResultType,i=b.searchSource,j=b.sectionRenderIndex,k={query_string:z,result_fbid:e,result_index:((b=g)!=null?b:-1).toString(),result_type:(e=h)!=null?e:7};c("OmnipickerSearchResultSelectedFalcoEvent").log(function(){var b;return{data_sources:d("MWOmnipickerLoggingUtils").getLoggingDataSources(i),is_epd:C,is_interop_thread:!1,mnet_request:d("MWOmnipickerLoggingUtils").getMnetRankInfo(f),recipient_ids:x.map(function(a){return a.key}),search_mode:1,search_result:k,session_id:(b=E)!=null?b:"",thread_id:null,ui_section:d("MWOmnipickerLoggingUtils").mapSectionToOmnipickerSearchUISection(z,a.rawData),ui_section_index:((b=j)!=null?b:-1).toString()}});q(a)};return j.jsx(c("BaseSubscriptionTokenizer.react"),{autoFocus:!0,dataSource:F,dataSourceFetchConfigParams:c("isArmadillo")()?{requestFlow:"network-upon-approve"}:{},decorators:y,extraLayoutProps:e,extraViewProps:H,inputRef:s,inputStrategyRenderer:c("MWChatSearchInputStrategy.react"),isDisabled:g,layoutStrategyRenderer:p,loggingContext:"messenger_chat",onAddToken:K,onChange:J,onChangeTokens:r,onOpen:I,onSearchCompletion:t,queryString:z,testid:void 0,tokens:x,tokensStrategyRenderer:u,viewStrategyRenderer:c("MWChatSearchTypeaheadViewStrategy.react"),xstyles:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatTabTokenizerInternalLayoutInlineStrategy.react",["CometScrollableArea.react","CometTokenizerInputStrategyEventListener.react","CometTypeaheadViewStrategyEventListener.react","cometHandleHighlightDropOnMouseLeave","emptyFunction","react","stylex","useCometInternalTypeaheadState","useCometTypeaheadKeyboardForScrollableArea","useCometTypeaheadLayoutStrategyStyles","xplatToDOMRef"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||(i=d("react"))).c,k=i,l={view:{backgroundColor:"x1jx94hy",boxSizing:"x9f619",display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",$$css:!0},viewHidden:{pointerEvents:"x47corl",visibility:"xlshs6z",$$css:!0}};function a(a){var b=j(97),e,f,g,i,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G;b[0]!==a?(t=a.commandConfigs,e=a.extraLayoutProps,m=a.description,n=a.errorMessage,i=a.inputStrategyRenderer,E=a.inputRef,p=a.isDisabled,r=a.label,u=a.onBackspace,v=a.onBlur,w=a.onChange,x=a.onDownArrow,y=a.onEnter,z=a.onEscape,A=a.onFocus,B=a.onShiftTab,C=a.onTab,D=a.onUpArrow,s=a.queryString,q=a.selectedEntries,o=a.tokensStrategyRenderer,F=a.viewStrategyRenderer,f=a.xstyles,G=a.extraViewProps,g=babelHelpers.objectWithoutPropertiesLoose(a,["commandConfigs","extraLayoutProps","description","errorMessage","inputStrategyRenderer","inputRef","isDisabled","label","onBackspace","onBlur","onChange","onDownArrow","onEnter","onEscape","onFocus","onShiftTab","onTab","onUpArrow","queryString","selectedEntries","tokensStrategyRenderer","viewStrategyRenderer","xstyles","extraViewProps"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=i,b[5]=m,b[6]=n,b[7]=o,b[8]=p,b[9]=q,b[10]=r,b[11]=s,b[12]=t,b[13]=u,b[14]=v,b[15]=w,b[16]=x,b[17]=y,b[18]=z,b[19]=A,b[20]=B,b[21]=C,b[22]=D,b[23]=E,b[24]=F,b[25]=G):(e=b[1],f=b[2],g=b[3],i=b[4],m=b[5],n=b[6],o=b[7],p=b[8],q=b[9],r=b[10],s=b[11],t=b[12],u=b[13],v=b[14],w=b[15],x=b[16],y=b[17],z=b[18],A=b[19],B=b[20],C=b[21],D=b[22],E=b[23],F=b[24],G=b[25]);a=e;e=a.afterViewContent;var H=a.ariaProps,I=a.beforeViewContent,J=a.helperTextComponent,K=a.isAlwaysOpened,L=a.isLoading;a=a.isOpened;var M=H.ariaDescribedByProps,N=H.ariaInputProps,O=H.ariaViewProps;b[26]!==f?(H=f===void 0?{}:f,b[26]=f,b[27]=H):H=b[27];f=H;H=c("useCometInternalTypeaheadState")();var P=H.activeEntries,Q=H.highlightedEntry;b[28]!==a||b[29]!==f?(H={isOpened:a,xstyles:f},b[28]=a,b[29]=f,b[30]=H):H=b[30];f=c("useCometTypeaheadLayoutStrategyStyles")(H);H=f.inputXStyle;var R=f.layoutXStyle,S=f.viewXStyle_DO_NOT_USE,T=c("useCometTypeaheadKeyboardForScrollableArea")(Q);b[31]!==g.onHighlightEntry?(f=c("cometHandleHighlightDropOnMouseLeave")(g.onHighlightEntry),b[31]=g.onHighlightEntry,b[32]=f):f=b[32];var U=f;b[33]!==R?(f=(h||(h=c("stylex")))(R),b[33]=R,b[34]=f):f=b[34];b[35]!==H?(R=(h||(h=c("stylex")))(H),b[35]=H,b[36]=R):R=b[36];H=!a;var V;b[37]!==i||b[38]!==m||b[39]!==N||b[40]!==g.autoFocus||b[41]!==g.id||b[42]!==g.inputEndContent||b[43]!==g.inputExtraProps||b[44]!==g.onRemoveEntry||b[45]!==g.placeholder||b[46]!==g.testid||b[47]!==n||b[48]!==o||b[49]!==p||b[50]!==q||b[51]!==r||b[52]!==s?(V=function(a,b){return k.jsx(i,babelHelpers["extends"]({description:m},b,{ariaProps:N,autoFocus:g.autoFocus,errorMessage:n,id:g.id,inputEndContent:g.inputEndContent,inputExtraProps:g.inputExtraProps,inputStartContent:k.jsx(o,{isDisabled:p,onPress:g.onRemoveEntry,tokens:q}),isDisabled:p,label:r,placeholder:q.length>0?null:g.placeholder,queryString:s,ref:d("xplatToDOMRef").xplatToInputRef(a),testid:void 0}))},b[37]=i,b[38]=m,b[39]=N,b[40]=g.autoFocus,b[41]=g.id,b[42]=g.inputEndContent,b[43]=g.inputExtraProps,b[44]=g.onRemoveEntry,b[45]=g.placeholder,b[46]=g.testid,b[47]=n,b[48]=o,b[49]=p,b[50]=q,b[51]=r,b[52]=s,b[53]=V):V=b[53];var W;b[54]!==t||b[55]!==H||b[56]!==u||b[57]!==v||b[58]!==w||b[59]!==x||b[60]!==y||b[61]!==z||b[62]!==A||b[63]!==B||b[64]!==C||b[65]!==D||b[66]!==E||b[67]!==V?(W=k.jsx(c("CometTokenizerInputStrategyEventListener.react"),{commandConfigs:t,omitEscape:H,onBackspace:u,onBlur:v,onChange:w,onClick:c("emptyFunction"),onDownArrow:x,onEnter:y,onEscape:z,onFocus:A,onShiftTab:B,onTab:C,onUpArrow:D,ref:E,children:V}),b[54]=t,b[55]=H,b[56]=u,b[57]=v,b[58]=w,b[59]=x,b[60]=y,b[61]=z,b[62]=A,b[63]=B,b[64]=C,b[65]=D,b[66]=E,b[67]=V,b[68]=W):W=b[68];b[69]!==R||b[70]!==g.onClick||b[71]!==W?(t=k.jsx("div",{className:R,onClick:g.onClick,role:"presentation",children:W}),b[69]=R,b[70]=g.onClick,b[71]=W,b[72]=t):t=b[72];b[73]!==J||b[74]!==M?(H=J!=null&&k.jsx("div",babelHelpers["extends"]({},M,{children:J})),b[73]=J,b[74]=M,b[75]=H):H=b[75];b[76]!==a||b[77]!==K||b[78]!==S||b[79]!==P||b[80]!==L||b[81]!==U||b[82]!==T||b[83]!==F||b[84]!==O||b[85]!==G||b[86]!==Q||b[87]!==g||b[88]!==s?(u=(a===!0||K===!0)&&k.jsx(c("CometTypeaheadViewStrategyEventListener.react"),{onOutsideClick:g.onOutsideClick,children:function(a){return k.jsx("div",{className:(h||(h=c("stylex")))([l.view,S,P.length===0&&!L&&l.viewHidden]),onMouseLeave:U,ref:a,children:k.jsx(c("CometScrollableArea.react"),{horizontal:!1,ref:T,children:k.jsx(F,{ariaProps:O,entries:P,extraViewProps:G,highlightedEntry:Q,isLoading:L,onHighlightEntry:g.onHighlightEntry,onPressEntry:g.onPressEntry,queryString:s})})})}}),b[76]=a,b[77]=K,b[78]=S,b[79]=P,b[80]=L,b[81]=U,b[82]=T,b[83]=F,b[84]=O,b[85]=G,b[86]=Q,b[87]=g,b[88]=s,b[89]=u):u=b[89];b[90]!==f||b[91]!==t||b[92]!==H||b[93]!==I||b[94]!==u||b[95]!==e?(v=k.jsxs("div",{className:f,children:[t,H,I,u,e]}),b[90]=f,b[91]=t,b[92]=H,b[93]=I,b[94]=u,b[95]=e,b[96]=v):v=b[96];return v}g["default"]=a}),98);
__d("MWChatTabTokenizerBaseLayoutInlineStrategy.react",["CometTypeaheadHelperText.react","MWChatTabTokenizerInternalLayoutInlineStrategy.react","react","useBaseTypeaheadLayoutContextualStrategyStateContext","useCometInternalTokenizerFetch","useCometInternalTypeaheadState","useCometTokenizerInternalLayoutInlineStrategyHandlers","useCometTypeaheadInputRefs","useCometTypeaheadLayoutContextualStrategyARIAProps"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useEffect,k=b.c;function a(a){var b=k(62),d,e,f,g,h,l,m,n,o,p,q,r,s,t,u,v,w,x;b[0]!==a?(d=a.extraLayoutProps,u=a.helperText,e=a.inputRef,v=a.label,f=a.onBackspace,g=a.onBlur,h=a.onChange,l=a.onDownArrow,m=a.onEnter,n=a.onEscape,o=a.onHighlightEntry,p=a.onOutsideClick,q=a.onPressEntry,r=a.onRemoveEntry,s=a.onUpArrow,w=a.viewRole,t=a.selectedEntries,x=babelHelpers.objectWithoutPropertiesLoose(a,["extraLayoutProps","helperText","inputRef","label","onBackspace","onBlur","onChange","onDownArrow","onEnter","onEscape","onHighlightEntry","onOutsideClick","onPressEntry","onRemoveEntry","onUpArrow","viewRole","selectedEntries"]),b[0]=a,b[1]=d,b[2]=e,b[3]=f,b[4]=g,b[5]=h,b[6]=l,b[7]=m,b[8]=n,b[9]=o,b[10]=p,b[11]=q,b[12]=r,b[13]=s,b[14]=t,b[15]=u,b[16]=v,b[17]=w,b[18]=x):(d=b[1],e=b[2],f=b[3],g=b[4],h=b[5],l=b[6],m=b[7],n=b[8],o=b[9],p=b[10],q=b[11],r=b[12],s=b[13],t=b[14],u=b[15],v=b[16],w=b[17],x=b[18]);b[19]!==d?(a=d===void 0?{}:d,b[19]=d,b[20]=a):a=b[20];d=a;a=d.afterViewContent;d=d.beforeViewContent;var y=c("useCometInternalTokenizerFetch")();y=y.isLoading;var z=c("useCometInternalTypeaheadState")(),A=z.activeEntries;z=z.highlightedEntry;var B=c("useBaseTypeaheadLayoutContextualStrategyStateContext")(),C=B.dispatchIsOpened,D;b[21]!==C?(B=function(){C(!0)},D=[C],b[21]=C,b[22]=B,b[23]=D):(B=b[22],D=b[23]);j(B,D);B=c("useCometTypeaheadInputRefs")(e);D=B.composedRef;e=B.inputRef;b[24]!==f||b[25]!==g||b[26]!==h||b[27]!==l||b[28]!==m||b[29]!==n||b[30]!==o||b[31]!==p||b[32]!==q||b[33]!==r||b[34]!==s?(B={onBackspace:f,onBlur:g,onChange:h,onDownArrow:l,onEnter:m,onEscape:n,onHighlightEntry:o,onOutsideClick:p,onPressEntry:q,onRemoveEntry:r,onUpArrow:s},b[24]=f,b[25]=g,b[26]=h,b[27]=l,b[28]=m,b[29]=n,b[30]=o,b[31]=p,b[32]=q,b[33]=r,b[34]=s,b[35]=B):B=b[35];b[36]!==B||b[37]!==e||b[38]!==t?(f={handlers:B,inputRef:e,selectedEntries:t},b[36]=B,b[37]=e,b[38]=t,b[39]=f):f=b[39];g=c("useCometTokenizerInternalLayoutInlineStrategyHandlers")(f);b[40]!==A||b[41]!==u||b[42]!==z||b[43]!==v||b[44]!==w?(h={activeEntries:A,helperText:u,highlightedEntry:z,inputLabel:v,isOpened:!0,viewRole:w},b[40]=A,b[41]=u,b[42]=z,b[43]=v,b[44]=w,b[45]=h):h=b[45];l=c("useCometTypeaheadLayoutContextualStrategyARIAProps")(h);b[46]!==u?(m=u!=null?i.jsx(c("CometTypeaheadHelperText.react"),{text:u}):null,b[46]=u,b[47]=m):m=b[47];b[48]!==a||b[49]!==l||b[50]!==d||b[51]!==m||b[52]!==y?(n={afterViewContent:a,ariaProps:l,beforeViewContent:d,helperTextComponent:m,isLoading:y,isOpened:!0},b[48]=a,b[49]=l,b[50]=d,b[51]=m,b[52]=y,b[53]=n):n=b[53];b[54]!==x||b[55]!==g||b[56]!==n||b[57]!==D||b[58]!==v||b[59]!==t||b[60]!==w?(o=i.jsx(c("MWChatTabTokenizerInternalLayoutInlineStrategy.react"),babelHelpers["extends"]({},x,g,{extraLayoutProps:n,inputRef:D,label:v,selectedEntries:t,viewRole:w})),b[54]=x,b[55]=g,b[56]=n,b[57]=D,b[58]=v,b[59]=t,b[60]=w,b[61]=o):o=b[61];return o}g["default"]=a}),98);
__d("MWChatTabsTokenizerLayoutInlineStrategy.react",["fbt","MWChatTabTokenizerBaseLayoutInlineStrategy.react","QPLUserFlow","qpl","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i.useMemo,l={layout:{marginEnd:"xktsk01",overflowX:"x6ikm8r",overflowY:"x10wlt62",width:"xi55695",$$css:!0},typeaheadInput:{backgroundColor:"xcrg951",boxSizing:"x9f619",display:"x1lliihq",paddingEnd:"x1sxyh0",paddingStart:"xurb0ha",$$css:!0},view:{backgroundColor:"xcrg951",height:"xl6hnh8",start:"xmh0m78",left:null,right:null,maxHeight:"xj8ehma",position:"x10l6tqk",top:"xdsb8wn",width:"xi55695",zIndex:"xhtitgo","@media (min-height: 1280px)_height":"x460g69",$$css:!0}};function a(){function a(a){var b=a.xstyles;b=b===void 0?{}:b;var d=b.viewXStyle_DO_NOT_USE,e=babelHelpers.objectWithoutPropertiesLoose(a,["xstyles"]);b=k(function(){return{inputXStyle:[l.typeaheadInput],layoutXStyle:[l.layout],viewXStyle_DO_NOT_USE:[l.view,d]}},[d]);return j.jsxs("div",{className:"x1n2onr6",children:[j.jsxs("div",{className:"x80vd3b x1q0q8m5 xso031l x78zum5",children:[j.jsx("div",{"aria-hidden":"true",className:"xzsf02u x6prxxf x1fcty0u xvq8zen x1d52u69 x1xmf6yo x1n327nk",children:h._("__JHASH__6UNdxXc7Mre__JHASH__")}),j.jsx(c("MWChatTabTokenizerBaseLayoutInlineStrategy.react"),babelHelpers["extends"]({},e,{contextualProps:{align:"start",disableAutoFlip:!0},label:h._("__JHASH__dp6PXfW93vj__JHASH__"),layerContext:"root",onFocus:function(){e.onFocus(),c("QPLUserFlow").start(c("qpl")._(25312244,"1683"))},onOutsideClick:function(){e.onOutsideClick(),c("QPLUserFlow").endCancel(c("qpl")._(25312244,"1683"))},xstyles:b}))]}),(a=e.extraLayoutProps)==null?void 0:a.footer]})}a.displayName=a.name+" [from "+f.id+"]";return a}g.createMWChatTabsTokenizerLayoutInlineStrategy=a}),226);
__d("MWInboxSecureThreadToggle.react",["MAWSecureThreadToggle.react","MAWThreadCutover","gkx","isTlcSearchEnabled","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.areWeCreatingASecureThread,e=a.disabled,f=a.setAreWeCreatingASecureThread;a=a.stretch;a=a===void 0?!1:a;var g=d("MAWThreadCutover").useIsCurrentUserCutoverUser();return!c("gkx")("24120")&&c("isTlcSearchEnabled")()&&g?null:i.jsx(c("MAWSecureThreadToggle.react"),{areWeCreatingASecureThread:b,disabled:e,setAreWeCreatingASecureThread:f,stretch:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWInteropTokenUtils",["MWXacGating"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return a.rawData.isInstagramAccount===!0}function i(a){return a.rawData.isInteropEligible===!0}function j(a){if(d("MWXacGating").isGroupsEnabled())return a.rawData.isGroupsXacEligible===!0;else return!1}function a(a){if(h(a))if(i(a))return!j(a);else return!0;else return!1}g.isInterop=h;g.isInteropEligible=i;g.isGxacEligible=j;g.isInteropWithoutGxacSupport=a}),98);
__d("MWLightSpeedChatTabSuggestedContactItem.react",["fbt","ActorHovercard.react","BaseMiddot.react","FDSFacepilePhoto.react","I64","MAWThreadCutover","MDSListCellPressable.react","MDSTextPairing.react","MWXText.react","react","translatedServerString"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||d("react");function a(a){var b=a.setTokens,e=a.token;a=e.rawData;var f=a.displayName,g=a.id,i=a.imageUrl,l=a.isE2EE,m=a.isInstagramAccount;a=a.subtext;var n=d("MAWThreadCutover").useIsCutoverSecureThread((j||(j=d("I64"))).of_string_opt(g)),o=k.jsx(c("FDSFacepilePhoto.react"),{size:36,sources:[{alt:c("translatedServerString")(f),disabled:!1,source:i}],totalItems:1}),p=null;!n&&l?p=k.jsx(c("MWXText.react"),{numberOfLines:1,type:"meta4",children:h._("__JHASH__PXg4X26-RXS__JHASH__")}):p=m===!0&&a!==""?k.jsxs(c("MWXText.react"),{numberOfLines:1,type:"meta4",children:[a,k.jsx(c("BaseMiddot.react"),{}),"Instagram"]}):void 0;return k.jsx("li",{className:"xurb0ha x1sxyh0",children:k.jsx(c("ActorHovercard.react"),{actorID:g,position:"start",children:function(a){return k.jsx(c("MDSListCellPressable.react"),{addOnStart:o,content:k.jsx(c("MDSTextPairing.react"),{headline:f,level:4,meta:p,reduceEmphasis:!0}),disabled:!1,onPress:function(){return b([e])},ref:a,selected:!1,size:"medium",testid:void 0})}})},g)}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWLightSpeedChatTabSuggestedContacts.react",["CometScrollableArea.react","MWCMLightSpeedChatTabActionViewItems.react","MWLightSpeedChatTabSuggestedContactItem.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={contactsList:{paddingTop:"x1y1aw1k",$$css:!0}};function a(a){var b=a.setTokens;a=a.tokens;return i.jsxs(c("CometScrollableArea.react"),{horizontal:!0,testid:void 0,xstyle:j.contactsList,children:[i.jsx(c("MWCMLightSpeedChatTabActionViewItems.react"),{}),i.jsx("ul",{children:a.map(function(a){return i.jsx(c("MWLightSpeedChatTabSuggestedContactItem.react"),{setTokens:b,token:a},a.key)})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWLightSpeedChatTabContactsContainer.react",["CometTransientDialogProvider.react","LSIntEnum","MNetRankType","MWChatSearchFetchContactRecommendations","MWLightSpeedChatTabSuggestedContacts.react","createMWChatSearchTypeaheadDataEntry","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react")),k=h.useMemo;function a(a){var b=a.isSearchView;a=a.setTokens;var e=d("MWChatSearchFetchContactRecommendations").useChatSearchContactRecommendations((i||(i=d("LSIntEnum"))).ofNumber(c("MNetRankType").MESSENGER_USER_SEARCH_NULLSTATE)),f=k(function(){return e.map(function(a){a=a[0];return c("createMWChatSearchTypeaheadDataEntry")(a)})},[e]);return b?null:j.jsx(c("CometTransientDialogProvider.react"),{children:j.jsx(c("MWLightSpeedChatTabSuggestedContacts.react"),{setTokens:a,tokens:f})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MessengerWebGroupCreationLogger",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("MessengerGroupCreationEventsFalcoEvent").__setRef("MessengerWebGroupCreationLogger");function a(a){var b=a.entry_point,c=a.error_code,d=a.error_code_description,e=a.event_name,f=a.group_size_at_creation,g=a.offline_threading_id,i=a.participant_ids_at_creation,j=a.succeeded,k=a.thread_fbid,l=a.thread_type,m=a.user_entered_group_name;h.onReady(function(a){return a.log(function(){return{entry_point:b,error_code:c,error_code_description:d,event_name:e,group_size_at_creation:f,offline_threading_id:g,participant_ids_at_creation:i,succeeded:j,thread_fbid:k,thread_type:l,user_entered_group_name:m}})})}g.logMessengerGroupCreationEventsFalcoEvent=a}),98);
__d("MWLogGroupThreadCreationEvent",["I64","LSMessagingThreadTypeUtil","LSResult","MWV2OnAuthoritativeThreadInsert","MessengerWebGroupCreationLogger","ReQL","asyncToGeneratorRuntime","coerceMessagingThreadTypeToLSThreadType","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,e,f){e=e==null?void 0:e.clientThreadKey;if(e==null)return;d("MWV2OnAuthoritativeThreadInsert").onAuthoritativeThreadInsert(c("LSResult")(e),a,function(e){var g=d("LSMessagingThreadTypeUtil").isGroup(e.threadType);if(!g)return;c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b;b=(yield d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.tables.participants).getKeyRange((b=e==null?void 0:e.threadKey)!=null?b:(h||(h=d("I64"))).zero).map(function(a){return(h||(h=d("I64"))).to_string(a.contactId)})));d("MessengerWebGroupCreationLogger").logMessengerGroupCreationEventsFalcoEvent({entry_point:f,event_name:"group_thread_created_authoritatively",group_size_at_creation:""+b.length,offline_threading_id:(h||(h=d("I64"))).to_string(e.threadKey),participant_ids_at_creation:b,succeeded:!0,thread_type:c("coerceMessagingThreadTypeToLSThreadType")(e.threadType)})})())})}g.logGroupThreadAuthoritativeCreationEvent=a}),98);
__d("MWV2ComposeTabHeader.react",["fbt","MWV2HeaderCloseButton.react","MWV2HeaderContainer.react","MWXText.react","QPLUserFlow","qpl","react","useMWV2CloseTab"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function k(){return j.jsx("div",{className:"x1sln4lm",children:j.jsx(c("MWXText.react"),{isSemanticHeading:!0,type:"headline4",children:h._("__JHASH__uhF6__U4Uqu__JHASH__")})})}k.displayName=k.name+" [from "+f.id+"]";function a(a){var b=a.tab;a=a.thread;var d=c("useMWV2CloseTab")(a==null?void 0:a.threadKey,b);return j.jsx(c("MWV2HeaderContainer.react"),{divider:!1,endContent:j.jsx(c("MWV2HeaderCloseButton.react"),{label:h._("__JHASH__1QV0CKBqQm1__JHASH__"),onPress:function(){d(),c("QPLUserFlow").endCancel(c("qpl")._(25312244,"1683"))}}),startContent:j.jsx(k,{})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWV2LockInTabContextProvider.react",["LSAuthorityLevel","LSIntEnum","MWChatStateActions","MWChatStateV2.react","MWChatStateV2Types","MWV2ComposerActionsContext.react","react","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react")),k=h.useCallback;function l(a){var b=a.tab;a=a.thread;var e=d("MWChatStateV2.react").useDispatch(),f=b.tabId,g=b.tabType;b=a||{};a=b.authorityLevel;var h=b.clientThreadKey,j=b.threadKey,l=b.threadType,m=a!=null?(i||(i=d("LSIntEnum"))).toNumber(a):void 0;return k(function(a){if(g.type!==d("MWChatStateV2Types").MWChatStateTabType.ComposeTab||m==null)return;if(!a&&m===c("LSAuthorityLevel").OPTIMISTIC)return;if(j==null||l==null){c("recoverableViolation")("Unexpected nullish thread in lockInTab","messenger_web_entrypoints");return}e(d("MWChatStateActions").lockInTab(f,{clientThreadKey:h,threadKey:j,threadType:l}))},[m,h,e,f,g.type,j,l])}function a(a){var b=a.children,c=a.tab;a=a.thread;c=l({tab:c,thread:a});return j.jsx(d("MWV2ComposerActionsContext.react").MWV2ComposerActionsListener,{onMessageSendAttempt:c,children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2NewThreadUtils",["I64","LSContactBlockedByViewerStatus","LSIntEnum","LSSearchType","MWChatInteraction","MWChatSearchResultType","MWInteropTokenUtils","MWLSDatabaseLazySync","MessengerWebEventsFalcoEvent","promiseDone","react","recoverableViolation","useMWNewChatOpenTabTraceProvider"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||d("react"),l=k.useCallback,m=k.useEffect,n=k.useMemo,o=k.useState;function p(a,b){if(a===c("MWChatSearchResultType").GROUP)return c("MessengerWebEventsFalcoEvent").log(function(){return{event_name:"search_click_result",thread_fbid:b}});if(a===c("MWChatSearchResultType").MESSAGE){c("recoverableViolation")("Was not expecting a message search result in a contact search typeahead","messenger_web_search");return}return c("MessengerWebEventsFalcoEvent").log(function(){return{event_name:"search_click_result",other_user_fbid:b}})}function a(){var a=d("MWLSDatabaseLazySync").useSync((i||(i=d("LSIntEnum"))).ofNumber(7));m(function(){c("promiseDone")(a())},[a])}var q=[];function b(a){var b=o(function(){return a}),e=b[0],f=b[1],g=c("useMWNewChatOpenTabTraceProvider")();b=l(function(a){return g(function(b){d("MWChatInteraction").set("open_with_tokens",b),f(function(){return a.filter(function(a){return!d("MWInteropTokenUtils").isInteropWithoutGxacSupport(a)})})},"chatheadsNewMessage")},[g]);return[e,b,q]}function e(a,b){return n(function(){return a.filter(function(a){return!d("MWInteropTokenUtils").isInteropWithoutGxacSupport(a)}).map(function(a){a=a.rawData;var e=a.resultType,f=a.isInstagramAccount===!0,g=a.isContact,h=a.otherUserId;h=h!=null?h:a.id;f?f=g?(i||(i=d("LSIntEnum"))).ofNumber(c("LSSearchType").IG_CONTACT_FOLLOWING):(i||(i=d("LSIntEnum"))).ofNumber(c("LSSearchType").IG_NONCONTACT_FOLLOWING):e===c("MWChatSearchResultType").USER?f=(i||(i=d("LSIntEnum"))).ofNumber(g?c("LSSearchType").CONTACT:c("LSSearchType").NONCONTACT):e===c("MWChatSearchResultType").PAGE?f=(i||(i=d("LSIntEnum"))).ofNumber(c("LSSearchType").PAGE):e===c("MWChatSearchResultType").GROUP?f=(i||(i=d("LSIntEnum"))).ofNumber(c("LSSearchType").GROUP):(c("recoverableViolation")("Had troubles converting search result to token.\n              Is Contact: "+(g?"true":"false")+"\n              Token Type: "+e,"messenger_web_search"),f=(i||(i=d("LSIntEnum"))).ofNumber(c("LSSearchType").NONCONTACT));g=a.displayName;var k=a.subtext,l=a.verificationStatus;return{blockedByViewerStatus:(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED),contextLine:k,displayName:g,id:(j||(j=d("I64"))).of_string(h),isInteropEligible:a.isInteropEligible,isVerified:l!=null?l!=="NOT_VERIFIED":void 0,profilePicUrl:a.imageUrl,secondaryProfilePicUrl:a.secondaryImageUrl,threadType:e===c("MWChatSearchResultType").USER?b?(i||(i=d("LSIntEnum"))).ofNumber(15):(i||(i=d("LSIntEnum"))).ofNumber(1):e===c("MWChatSearchResultType").GROUP?(i||(i=d("LSIntEnum"))).ofNumber(2):(i||(i=d("LSIntEnum"))).ofNumber(1),type_:f}})},[a,b])}function f(a,b,e,f){return l(function(g){var h=g.rawData,k=h.id,l=h.resultType,m=function(a){b(!0);return e({clientThreadKey:void 0,threadKey:(j||(j=d("I64"))).of_string(k),threadType:a})};((h=h.isInstagramAccount)!=null?h:!1)&&f(!1);a||p(l,k);h=d("MWInteropTokenUtils").isInteropWithoutGxacSupport(g);if(l===c("MWChatSearchResultType").USER)if(h)return m((i||(i=d("LSIntEnum"))).ofNumber(1));else return;else if(l===c("MWChatSearchResultType").GROUP)return m((i||(i=d("LSIntEnum"))).ofNumber(2));else if(l===c("MWChatSearchResultType").MESSAGE){c("recoverableViolation")("Was not expecting a message search result in a contact search typeahead","messenger_web_product");return}else return m(a?(i||(i=d("LSIntEnum"))).ofNumber(15):(i||(i=d("LSIntEnum"))).ofNumber(1))},[a,b,e,f])}g.useSyncRanking=a;g.useTokens=b;g.useTokensShimmed=e;g.useOnAddToken=f}),98);
__d("useLinkNewThreadToInteractionUUID",["I64","Int64Hooks","MWChatInteraction"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){d("Int64Hooks").useEffectInt64(function(){(a==null?void 0:a.threadKey)!=null&&b!=null&&d("MWChatInteraction").set((h||(h=d("I64"))).to_string(a.threadKey),b)},[a==null?void 0:a.threadKey,b])}g["default"]=a}),98);
__d("useMAWMaybeRedirectComposeViewToSecureGroupThread",["MWThreadCreationUtil","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useEffect,j=10;function a(a,b,c,e){i(function(){if(b.length<2)return;var f=b.length>1&&b.length<j;if(!f){e(!1);return}if(f&&c){f=d("MWThreadCreationUtil").checkE2EEligibilityForEachContact(b,a);e(f)}},[a,c,e,b])}g["default"]=a}),98);
__d("useMAWMaybeRedirectComposeViewToSecureOneToOneThread",["MWThreadCreationUtil","MaybeTriggerOnDemandCutover","asyncToGeneratorRuntime","gkx","promiseDone","react"],(function(a,b,c,d,e,f,g){"use strict";var h;e=h||d("react");var i=e.useEffect,j=e.useState;function a(a,e,f,g,h){var k=j(!1),l=k[0],m=k[1];i(function(){c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(e&&f.length===1){var b=f[0];m(!0);if(c("gkx")("6006")){h(null);var i=(yield d("MWThreadCreationUtil").getIsSecureBasedOnContactCapabilitiesForOneToOneThreadV2(b,a)),j=i.isSecureThread;i=i.reason;g(j);i==="cutover"&&(yield c("MaybeTriggerOnDemandCutover")({isTargetE2E:!1,targetID:b.rawData.id,targetType:"USER"},a));m(!1)}else c("promiseDone")(c("MaybeTriggerOnDemandCutover")({isTargetE2E:!1,targetID:b.rawData.id,targetType:"USER"},a).then(function(){var e=d("MWThreadCreationUtil").getIsSecureBasedOnContactCapabilitiesForOneToOneThreadV2(b,a).then(function(a){a=a.isSecureThread;g(a)});m(!1);c("promiseDone")(e)}))}})())},[f,g,a,e,h]);return{isCutoverInProgress:l}}g["default"]=a}),98);
__d("useMWSearchTypeaheadViewItemIsDisabled",["MWInteropTokenUtils","cr:4831","react"],(function(a,b,c,d,e,f,g){"use strict";var h;c=h||d("react");var i=c.useCallback,j=c.useMemo;function a(a,c){var e=j(function(){return[a.some(d("MWInteropTokenUtils").isInterop),a.some(function(a){return!d("MWInteropTokenUtils").isGxacEligible(a)})]},[a]),f=e[0],g=e[1];e=(e=b("cr:4831")==null?void 0:b("cr:4831")(a,c))!=null?e:[!1,!1];var h=e[0],k=e[1];return i(function(a){var b=d("MWInteropTokenUtils").isInterop(a),e=!d("MWInteropTokenUtils").isGxacEligible(a);a=!d("MWInteropTokenUtils").isInteropEligible(a);if(h||b&&k||b&&c||g&&b||f&&e)return!0;else if(b)return a;else return!1},[f,g,c,h,k])}g["default"]=a}),98);
__d("useMWThreadListNewMessage",["MWInteropTokenUtils","MWThreadListNewMessageState.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useEffect;function a(a){var b=d("MWThreadListNewMessageState.react").useDispatch();i(function(){b({isActive:!0,type:d("MWThreadListNewMessageState.react").MWThreadListNewMessageStateActionType.SetIsActive});return function(){return b({type:d("MWThreadListNewMessageState.react").MWThreadListNewMessageStateActionType.ResetIfEmpty})}},[b]);i(function(){b({entries:a.filter(function(a){return!d("MWInteropTokenUtils").isInteropWithoutGxacSupport(a)}),type:d("MWThreadListNewMessageState.react").MWThreadListNewMessageStateActionType.SetEntries})},[b,a])}g["default"]=a}),98);
__d("MWV2ComposeTab.react",["CometHeroInteractionWithDiv.react","CometPlaceholder.react","CometProgressRingIndeterminate.react","I64","JSResourceForInteraction","LSThreadAttributionStore","MWChatInteraction","MWChatLightSpeedSearchTypeahead.react","MWChatSearchSurfaces","MWChatStateActions","MWChatStateV2.react","MWChatStateV2Types","MWChatTabsTokenizerLayoutInlineStrategy.react","MWChatTemporarySearchResult","MWChatTokenizerTokenStrategy.react","MWInteropTokenUtils","MWLightSpeedChatTabContactsContainer.react","MWLogGroupThreadCreationEvent","MWOpenAndSecureThreadView.react","MWPNewMessageDraftContext.react","MWPReplyContext.react","MWPThreadThemeProvider.react","MWV2ComposeTabHeader.react","MWV2ComposerHasContentContext.react","MWV2FileDropzone.react","MWV2LockInTabContextProvider.react","MWV2NewThreadUtils","MWV2TabContainer","MWXRelayComposer.react","cr:4185","createMWChatSearchTypeaheadDataEntry","gkx","isTlcSearchEnabled","lazyLoadComponent","react","useLinkNewThreadToInteractionUUID","useMAWMaybeRedirectComposeViewToSecureGroupThread","useMAWMaybeRedirectComposeViewToSecureOneToOneThread","useMWSearchTypeaheadViewItemIsDisabled","useMWThreadListNewMessage","usePrevious","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=i||(i=d("react"));e=i;var l=e.memo,m=e.useCallback,n=e.useContext,o=e.useEffect,p=e.useMemo,q=e.useState,r=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWPThreadPreview.react").__setRef("MWV2ComposeTab.react"));function s(a){var b=a.length,e=c("usePrevious")(b);a=n(d("MWPReplyContext.react").MWPReplyContext);var f=a.clearReply;o(function(){e!=null&&b!==e&&f((j||(j=d("I64"))).zero,!0)},[b,e,f])}var t=c("isTlcSearchEnabled")();function a(a){var e=a.initialTokens,f=a.tab,g=(h||(h=c("useReStore")))();d("MWV2NewThreadUtils").useSyncRanking();a=q();var i=a[0];a=a[1];var l=f.tabType,n=l.type===d("MWChatStateV2Types").MWChatStateTabType.ComposeTab?l.secureThreadToggleEnabled:!1;l=q(function(){return n});var u=l[0],v=l[1];l=d("MWChatInteraction").get("open_new");c("useLinkNewThreadToInteractionUUID")(i,l);e=e.map(function(a){return c("createMWChatSearchTypeaheadDataEntry")(d("MWChatTemporarySearchResult").fromContact(void 0,u,a))});e=d("MWV2NewThreadUtils").useTokens(e);var w=e[0],x=e[1];e=e[2];var y=d("MWV2NewThreadUtils").useTokensShimmed(w,u);c("useMWThreadListNewMessage")(w);s(w);var z=q(!1),A=z[0],B=z[1],C=d("MWChatStateV2.react").useDispatch();z=function(a){return C(d("MWChatStateActions").lockInTab(f.tabId,a))};z=d("MWV2NewThreadUtils").useOnAddToken(u,B,z,v);var D=m(function(){d("MWLogGroupThreadCreationEvent").logGroupThreadAuthoritativeCreationEvent(g,i,"web_fb_chattab_create_new_group"),B(!0)},[g,i]),E=p(function(){return d("MWChatTabsTokenizerLayoutInlineStrategy.react").createMWChatTabsTokenizerLayoutInlineStrategy()},[]),F=c("useMWSearchTypeaheadViewItemIsDisabled")(w,u),G=p(function(){return w.some(d("MWInteropTokenUtils").isInterop)},[w]),H=JSON.stringify(i==null?void 0:i.threadKey),I=c("useMAWMaybeRedirectComposeViewToSecureOneToOneThread")(g,t,w,v,a);I=I.isCutoverInProgress;var J=k.jsx(c("CometPlaceholder.react"),{fallback:k.jsx("div",{className:"x6s0dn4 x78zum5 x1iyjqo2 xl56j7k",children:k.jsx(c("CometProgressRingIndeterminate.react"),{color:"disabled",size:24})}),children:k.jsx(c("MWLightSpeedChatTabContactsContainer.react"),{isSearchView:!1,setTokens:x})}),K=c("gkx")("5338")||c("gkx")("3046"),L=p(function(){return b("cr:4185")==null?null:k.jsx("div",{className:"x7m3og9 xyinxu5 x1g2khh7 x1pi30zi x1swvt13 xjl7jj",children:k.jsx(b("cr:4185"),{areWeCreatingASecureThread:u,disabled:G,setAreWeCreatingASecureThread:v,stretch:!0})})},[u,G]),M=p(function(){return{footer:K?null:L}},[K,L]);D=i!=null?k.jsx(c("CometPlaceholder.react"),{fallback:null,children:k.jsx(c("MWPThreadThemeProvider.react"),{themeFbid:i.themeFbid,children:k.jsx(c("MWXRelayComposer.react"),{afterSendMessage:D,isPreviewThread:!0,threadKey:i.threadKey})})}):null;o(function(){if(i!=null){var a=d("LSThreadAttributionStore").getSourceForNewThread();a!=null&&d("LSThreadAttributionStore").setSource((j||(j=d("I64"))).to_string(i.threadKey),a)}},[H]);H=u?c("MWChatSearchSurfaces").omnipickerArmadillo:c("MWChatSearchSurfaces").omnipicker;c("useMAWMaybeRedirectComposeViewToSecureGroupThread")(g,w,t,v);return k.jsx(c("CometHeroInteractionWithDiv.react"),{interactionDesc:"MWV2_CHAT_TAB",interactionUUID:l,pageletName:"ChatTab",children:k.jsx(c("MWPThreadThemeProvider.react"),{children:k.jsx(d("MWPNewMessageDraftContext.react").MWPNewMessageDraftContextProvider,{children:k.jsx(d("MWV2ComposerHasContentContext.react").MWV2ComposerHasContentContextProvider,{children:k.jsx(c("MWV2TabContainer"),{tab:f,threadKey:(l=i==null?void 0:i.threadKey)!=null?l:void 0,children:k.jsxs("div",{className:"x78zum5 xdt5ytf x5yr21d x1ja2u2z",children:[k.jsx(c("MWV2ComposeTabHeader.react"),{tab:f,thread:(l=i)!=null?l:void 0}),k.jsx(d("MWV2FileDropzone.react").MWV2FileDropzone,{isMediaOnly:G,thread:(l=i)!=null?l:void 0,children:k.jsxs("div",{className:"x78zum5 xdt5ytf x1iyjqo2 x2lwn1j x1n2onr6 x1vjfegm",children:[k.jsx(c("MWChatLightSpeedSearchTypeahead.react"),{excludedIDs:e,extraLayoutProps:M,getIsViewItemDisabled:F,includeRecommendations:!1,isDisabled:A,isSecure:u,layoutStategyRenderer:E,onAddToken:z,onChangeTokens:x,source:H,tokenItemRenderer:c("MWChatTokenizerTokenStrategy.react"),tokens:w}),k.jsx(c("CometPlaceholder.react"),{fallback:null,children:k.jsx(c("MWV2LockInTabContextProvider.react"),{tab:f,thread:i,children:k.jsx(r,{areWeCreatingASecureThread:u,isCutoverInProgress:I,nullstate:J,renderThreadView:function(a){return k.jsx(c("MWOpenAndSecureThreadView.react"),{thread:a})},setPreviewThread:a,tokens:y,children:D})})})]})})]})})})})})})}a.displayName=a.name+" [from "+f.id+"]";e=l(a);g["default"]=e}),98);
__d("useHasGroupLimitBeenReachedForSearchEntry",["MWGroupLimitConfig","MWInteropTokenUtils","MWXacGating","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useMemo;function a(a,b){var c=i(function(){return d("MWXacGating").isGroupsEnabled()&&a.some(d("MWInteropTokenUtils").isInterop)},[a]),e=a.length;c=c?e>=d("MWGroupLimitConfig").gxac-1:b?e>=d("MWGroupLimitConfig").armadillo()-1:e>=d("MWGroupLimitConfig").nonGxac-1;b=d("MWXacGating").isGroupsEnabled()&&e>=d("MWGroupLimitConfig").gxac;return[c,b]}g["default"]=a}),98);